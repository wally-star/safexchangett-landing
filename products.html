<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Browse — SafeXchange TT</title>
  <meta name="description" content="Browse listings on SafeXchange TT — escrow-secured, verified users, secure courier + OTP, Safe Trade Zones."/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{--navy:#0A0F3C;--gold:#FFD447;--ink:#E6E8F2}
    html,body{background:var(--navy);color:#fff;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
    body:before{content:"";position:fixed;inset:0;pointer-events:none;opacity:.06;background-image:radial-gradient(#fff 1px,transparent 1px);background-size:24px 24px}
    .lift{transition:transform .2s ease, box-shadow .2s ease}
    .lift:hover{transform:translateY(-2px)}
    .chip{border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.05)}
    .badge{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.12)}
  </style>
</head>
<body class="antialiased">

  <!-- NAV -->
  <nav class="bg-[var(--navy)]/95 border-b border-white/10 sticky top-0 z-40">
    <div class="max-w-7xl mx-auto px-4 md:px-6 py-3 flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-4">
        <img src="safexchangett.PNG" alt="SafeXchange TT" class="w-16 h-16 rounded"/>
        <div class="leading-tight">
          <div class="font-extrabold tracking-wide text-2xl md:text-3xl">SafeXchange TT</div>
          <div class="text-[var(--gold)] text-sm md:text-base font-semibold">The safer way to buy &amp; sell</div>
        </div>
      </a>
      <div class="hidden md:flex items-center gap-6 text-lg">
        <a href="about.html" class="hover:opacity-80">About</a>
        <a href="faq.html" class="hover:opacity-80">FAQ</a>
        <a href="products.html" class="font-bold text-[var(--gold)]">Browse</a>
        <a href="safe-trade-zones.html" class="hover:opacity-80">Safe Trade Zones</a>
        <a href="contact.html" class="hover:opacity-80">Contact</a>
        <a href="index.html#waitlist" class="px-5 py-3 rounded-xl bg-[var(--gold)] text-black font-semibold hover:opacity-90">Join Waitlist</a>
      </div>
    </div>
  </nav>

  <!-- PAGE HEADER -->
  <header class="max-w-7xl mx-auto px-4 md:px-6 pt-10 pb-4">
    <h1 class="text-4xl md:text-5xl font-extrabold">Browse listings</h1>
    <p class="mt-2 text-white/80">Search and filter community listings. All trades run through <span class="text-[var(--gold)] font-semibold">escrow</span>, with <span class="text-[var(--gold)] font-semibold">verified users</span>, <span class="text-[var(--gold)] font-semibold">secure courier + OTP</span>, and optional <span class="text-[var(--gold)] font-semibold">Safe Trade Zones</span>.</p>
  </header>

  <!-- FILTER BAR -->
  <section class="max-w-7xl mx-auto px-4 md:px-6 py-4">
    <div class="bg-white/5 border border-white/10 rounded-2xl p-4 md:p-5">
      <div class="grid md:grid-cols-12 gap-3">
        <div class="md:col-span-5">
          <input id="q" class="w-full p-3 rounded-xl text-black" placeholder="Search by title, brand, keyword…"/>
        </div>
        <div class="md:col-span-2">
          <select id="category" class="w-full p-3 rounded-xl text-black">
            <option value="">All categories</option>
            <option>Phones & Electronics</option>
            <option>Fashion</option>
            <option>Furniture</option>
            <option>Services & Repairs</option>
          </select>
        </div>
        <div class="md:col-span-2 grid grid-cols-2 gap-3">
          <input id="min" type="number" min="0" class="p-3 rounded-xl text-black" placeholder="Min $"/>
          <input id="max" type="number" min="0" class="p-3 rounded-xl text-black" placeholder="Max $"/>
        </div>
        <div class="md:col-span-2">
          <select id="sort" class="w-full p-3 rounded-xl text-black">
            <option value="new">Newest</option>
            <option value="low">Price: Low → High</option>
            <option value="high">Price: High → Low</option>
          </select>
        </div>
        <div class="md:col-span-1 flex gap-2">
          <button id="apply" class="w-full px-4 py-3 rounded-xl bg-[var(--gold)] text-black font-bold lift">Apply</button>
        </div>
      </div>

      <!-- quick chips -->
      <div class="mt-4 flex flex-wrap gap-2 text-sm">
        <button data-chip="Phones & Electronics" class="chip px-3 py-1 rounded-lg hover:bg-white/10">Phones</button>
        <button data-chip="Fashion" class="chip px-3 py-1 rounded-lg hover:bg-white/10">Fashion</button>
        <button data-chip="Furniture" class="chip px-3 py-1 rounded-lg hover:bg-white/10">Furniture</button>
        <button data-chip="Services & Repairs" class="chip px-3 py-1 rounded-lg hover:bg-white/10">Repairs</button>
      </div>
    </div>
  </section>

  <!-- RESULTS -->
  <main class="max-w-7xl mx-auto px-4 md:px-6 pb-14">
    <div id="results" class="grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5 mt-5"></div>

    <div class="text-center mt-8">
      <button id="loadMore" class="px-6 py-3 border border-white/15 bg-white/5 rounded-xl hover:bg-white/10 lift">Load more</button>
    </div>
  </main>

  <!-- SAFE VS OPEN STRIP -->
  <section class="max-w-7xl mx-auto px-4 md:px-6 pb-14">
    <div class="bg-white/5 border border-white/10 rounded-2xl p-6 md:p-8">
      <h2 class="text-2xl md:text-3xl font-extrabold">Why safer than open marketplaces?</h2>
      <div class="grid md:grid-cols-2 gap-6 mt-5">
        <div class="badge rounded-2xl p-5">
          <h3 class="font-bold text-[var(--gold)] mb-2">SafeXchange TT</h3>
          <ul class="space-y-1 text-white/90">
            <li>✓ Escrow wallet (no release until delivery confirmed)</li>
            <li>✓ Verified users (KYC)</li>
            <li>✓ Secure courier + OTP + photo proof</li>
            <li>✓ Safe Trade Zones for handovers</li>
            <li>✓ Dispute support (48–96h)</li>
          </ul>
        </div>
        <div class="badge rounded-2xl p-5">
          <h3 class="font-bold mb-2">Open groups / classifieds</h3>
          <ul class="space-y-1 text-white/90">
            <li>✗ No escrow or protection</li>
            <li>✗ Anonymous users</li>
            <li>✗ Risky meetups, no OTP proof</li>
            <li>✗ No formal dispute recourse</li>
            <li>✗ High fraud exposure</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="max-w-7xl mx-auto px-4 md:px-6 py-10">
    <div class="flex flex-wrap items-center gap-4 justify-between">
      <div class="text-sm text-white/80">
        <a href="privacy.html" class="underline">Privacy</a> ·
        <a href="terms.html" class="underline">Terms</a> ·
        <a href="faq.html" class="underline">FAQ</a> ·
        <a href="safe-trade-zones.html" class="underline">Safe Trade Zones</a> ·
        <a href="contact.html" class="underline">Contact</a>
      </div>
      <div class="font-extrabold" style="color:#FFD447;font-size:16px;">
        SafeXchange TT • “Building Trust. Enabling Trade. Protecting People.”
      </div>
    </div>
  </footer>

  <!-- PRODUCT MODAL -->
  <div id="modal" class="fixed inset-0 bg-black/70 hidden items-center justify-center z-50 p-4">
    <div class="max-w-2xl w-full bg-[var(--navy)] rounded-2xl border border-white/10 overflow-hidden">
      <div class="relative">
        <img id="mImg" src="" alt="" class="w-full h-72 object-cover">
        <button id="mClose" class="absolute top-3 right-3 bg-black/60 px-3 py-1 rounded-lg">✕</button>
      </div>
      <div class="p-5">
        <div class="flex items-start justify-between gap-4">
          <h3 id="mTitle" class="text-2xl font-extrabold"></h3>
          <div id="mPrice" class="text-2xl font-extrabold text-[var(--gold)]"></div>
        </div>
        <div class="mt-2 text-white/85" id="mDesc"></div>
        <div class="mt-3 flex flex-wrap gap-2 text-sm">
          <span class="badge px-3 py-1 rounded-lg" id="mCat"></span>
          <span class="badge px-3 py-1 rounded-lg">Escrow</span>
          <span class="badge px-3 py-1 rounded-lg">Courier + OTP</span>
        </div>
        <div class="mt-5 flex flex-wrap gap-3">
          <a href="index.html#waitlist" class="px-6 py-3 bg-[var(--gold)] text-black font-bold rounded-xl lift">Buy via Escrow (Join pilot)</a>
          <a href="safe-trade-zones.html" class="px-6 py-3 border border-white/15 bg-white/5 rounded-xl lift">Find Safe Trade Zones</a>
        </div>
      </div>
    </div>
  </div>

  <!-- DATA + LOGIC -->
  <script>
    // Demo data (replace with JSON fetch later)
    const DATA = [
      {id:1, title:"iPhone 13 Pro 256GB", price:4800, category:"Phones & Electronics", img:"https://picsum.photos/seed/iphone/800/600", desc:"Excellent condition, battery 89%, includes case & charger.", ts:"2025-10-15"},
      {id:2, title:"Samsung 55\" 4K TV", price:3500, category:"Phones & Electronics", img:"https://picsum.photos/seed/tv/800/600", desc:"Crystal UHD, 2023 model, wall mount included.", ts:"2025-10-14"},
      {id:3, title:"Men’s Running Shoes (US 10)", price:350, category:"Fashion", img:"https://picsum.photos/seed/shoes/800/600", desc:"Lightweight, barely used, like new.", ts:"2025-10-13"},
      {id:4, title:"Wood Dining Table (6 seats)", price:1800, category:"Furniture", img:"https://picsum.photos/seed/table/800/600", desc:"Solid wood, 6 chairs included, minor marks.", ts:"2025-10-12"},
      {id:5, title:"Laptop Repair — Screen & Battery", price:300, category:"Services & Repairs", img:"https://picsum.photos/seed/repair/800/600", desc:"Professional repair; parts charged separately; escrow milestone supported.", ts:"2025-10-12"},
      {id:6, title:"PS5 Console + Controller", price:3500, category:"Phones & Electronics", img:"https://picsum.photos/seed/ps5/800/600", desc:"Great condition, original box.", ts:"2025-10-10"},
      {id:7, title:"Wardrobe Cabinet", price:900, category:"Furniture", img:"https://picsum.photos/seed/wardrobe/800/600", desc:"Spacious, smooth doors, delivery available.", ts:"2025-10-09"},
      {id:8, title:"Women’s Handbag (Genuine Leather)", price:450, category:"Fashion", img:"https://picsum.photos/seed/bag/800/600", desc:"Classic style, very good condition.", ts:"2025-10-08"},
      {id:9, title:"iPad Air (64GB)", price:2400, category:"Phones & Electronics", img:"https://picsum.photos/seed/ipad/800/600", desc:"Wi-Fi, works perfectly.", ts:"2025-10-08"},
      {id:10,title:"Electrician — Small Jobs", price:250, category:"Services & Repairs", img:"https://picsum.photos/seed/electric/800/600", desc:"Quick fixes, sockets, lights; milestone escrow available.", ts:"2025-10-07"}
    ];

    let page = 1, pageSize = 8, filtered = [...DATA];

    const el = (id) => document.getElementById(id);
    const results = el('results');
    const modal = el('modal');

    function formatPrice(ttd){ return "TT$" + ttd.toLocaleString(); }

    function card(item){
      return `
      <article class="lift rounded-2xl overflow-hidden border border-white/10 bg-white/5">
        <button data-open="${item.id}" class="block text-left w-full">
          <img src="${item.img}" alt="${item.title}" class="w-full h-44 object-cover"/>
          <div class="p-4">
            <div class="text-lg font-bold leading-tight">${item.title}</div>
            <div class="mt-1 text-[var(--gold)] font-extrabold">${formatPrice(item.price)}</div>
            <div class="mt-2 flex flex-wrap gap-2 text-xs">
              <span class="badge px-2 py-1 rounded">Escrow</span>
              <span class="badge px-2 py-1 rounded">Courier + OTP</span>
              <span class="badge px-2 py-1 rounded">${item.category}</span>
            </div>
          </div>
        </button>
      </article>`;
    }

    function render(reset=false){
      if(reset){ results.innerHTML = ""; page = 1; }
      const start = 0, end = page*pageSize;
      const slice = filtered.slice(start, end);
      results.innerHTML = slice.map(card).join("");
      document.getElementById('loadMore').style.display = (filtered.length > end) ? "inline-block" : "none";
    }

    function applyFilters(){
      const q = el('q').value.trim().toLowerCase();
      const cat = el('category').value;
      const min = parseFloat(el('min').value) || 0;
      const max = parseFloat(el('max').value) || Number.MAX_SAFE_INTEGER;
      const sort = el('sort').value;

      filtered = DATA.filter(it=>{
        const text = (it.title + " " + it.desc).toLowerCase();
        const okQ = !q || text.includes(q);
        const okC = !cat || it.category === cat;
        const okP = it.price >= min && it.price <= max;
        return okQ && okC && okP;
      });

      filtered.sort((a,b)=>{
        if(sort==="low") return a.price - b.price;
        if(sort==="high") return b.price - a.price;
        // newest default
        return new Date(b.ts) - new Date(a.ts);
      });

      render(true);
    }

    // events
    document.getElementById('apply').addEventListener('click', applyFilters);
    document.querySelectorAll('[data-chip]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        el('category').value = btn.getAttribute('data-chip');
        applyFilters();
      });
    });
    document.getElementById('loadMore').addEventListener('click', ()=>{ page++; render(); });

    // modal open/close
    document.addEventListener('click', (e)=>{
      const openId = e.target.closest('[data-open]')?.getAttribute('data-open');
      if(openId){
        const item = DATA.find(x=>x.id==openId);
        el('mImg').src = item.img;
        el('mTitle').textContent = item.title;
        el('mDesc').textContent = item.desc;
        el('mPrice').textContent = formatPrice(item.price);
        el('mCat').textContent = item.category;
        modal.classList.remove('hidden');
        modal.classList.add('flex');
      }
    });
    document.getElementById('mClose').addEventListener('click', ()=>{ modal.classList.add('hidden'); modal.classList.remove('flex'); });
    modal.addEventListener('click', (e)=>{ if(e.target===modal){ modal.classList.add('hidden'); modal.classList.remove('flex'); } });

    // initial render
    applyFilters();
  </script>
</body>
</html>
