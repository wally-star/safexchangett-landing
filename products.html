<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Browse Listings — SafeXchange TT</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>:root{--navy:#0A0F3C;--gold:#FFD447;--ink:#E6E8F2}</style>
</head>
<body class="bg-[var(--navy)] text-white antialiased">
  <!-- NAV -->
  <nav class="bg-[var(--navy)]/95 border-b border-white/10">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-3">
        <img src="safexchangett.PNG" alt="SafeXchange TT" class="w-16 h-16 rounded" />
        <div class="leading-tight">
          <div class="font-extrabold tracking-wide text-xl">SafeXchange TT</div>
          <div class="text-[var(--gold)] text-xs font-semibold">The safer way to buy &amp; sell</div>
        </div>
      </a>
      <div class="hidden md:flex items-center gap-6">
        <a href="about.html" class="hover:opacity-80">About</a>
        <a href="faq.html" class="hover:opacity-80">FAQ</a>
        <a href="products.html" class="hover:opacity-80">Browse</a>
        <a href="safe-trade-zones.html" class="hover:opacity-80">Safe Trade Zones</a>
        <a href="contact.html" class="hover:opacity-80">Contact</a>
        <a href="index.html#waitlist" class="px-4 py-2 rounded-xl bg-[var(--gold)] text-black font-semibold hover:opacity-90">Join Waitlist</a>
      </div>
    </div>
  </nav>

  <main class="max-w-6xl mx-auto px-4 py-10">
    <header class="mb-6">
      <h1 class="text-3xl md:text-4xl font-extrabold">Browse Listings</h1>
      <p class="text-[var(--ink)]/85 mt-2">Shop safely with escrow, verified users, secure courier + OTP, and Safe Trade Zones.</p>
    </header>

    <!-- Filters -->
    <section class="bg-white/5 border border-white/10 rounded-2xl p-4 md:p-6 mb-6">
      <form id="filterForm" class="grid md:grid-cols-4 gap-4">
        <input id="search" placeholder="Search listings…" class="rounded-lg p-3 text-black" />
        <select id="category" class="rounded-lg p-3 text-black">
          <option value="">All categories</option>
          <option>Phones & Electronics</option>
          <option>Fashion</option>
          <option>Furniture</option>
          <option>Services/Repairs</option>
        </select>
        <select id="sort" class="rounded-lg p-3 text-black">
          <option value="recent">Sort: Most recent</option>
          <option value="price_asc">Sort: Price ↑</option>
          <option value="price_desc">Sort: Price ↓</option>
        </select>
        <button class="bg-[var(--gold)] text-black font-bold rounded-xl px-4 py-3 hover:opacity-90">Apply</button>
      </form>
      <p class="text-sm text-[var(--ink)]/70 mt-2">Want to sell? <a href="contact.html" class="underline">Contact us</a> or <a href="index.html#waitlist" class="underline">join the waitlist</a> to get listing access.</p>
    </section>

    <!-- Listings grid -->
    <section id="grid" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6"></section>

    <!-- Pagination (static demo) -->
    <div class="mt-8 flex items-center justify-center gap-2">
      <button class="px-3 py-2 rounded bg-white/5 border border-white/10 hover:bg-white/10">« Prev</button>
      <span class="text-sm text-[var(--ink)]/85">Page 1 of 1</span>
      <button class="px-3 py-2 rounded bg-white/5 border border-white/10 hover:bg-white/10">Next »</button>
    </div>

    <footer class="mt-12 text-sm text-[var(--ink)]/80">
      <a href="privacy.html" class="underline">Privacy</a> ·
      <a href="terms.html" class="underline">Terms</a> ·
      <a href="contact.html" class="underline">Contact</a>
      <div class="mt-3 font-extrabold" style="color:#FFD447;font-size:16px;">
        SafeXchange TT • “Building Trust. Enabling Trade. Protecting People.”
      </div>
    </footer>
  </main>

  <!-- Demo data + renderer -->
  <script>
    const listings = [
      { id: 1, title: "iPhone 13 Pro (256GB)", price: 4200, category: "Phones & Electronics", img: "https://picsum.photos/seed/phone/600/400", location: "Port of Spain", created_at: "2025-10-01" },
      { id: 2, title: "Samsung 55\" 4K TV", price: 3500, category: "Phones & Electronics", img: "https://picsum.photos/seed/tv/600/400", location: "San Fernando", created_at: "2025-10-02" },
      { id: 3, title: "Wood Dining Set (6pc)", price: 2500, category: "Furniture", img: "https://picsum.photos/seed/table/600/400", location: "Chaguanas", created_at: "2025-10-03" },
      { id: 4, title: "Nike Air Max (M10)", price: 650, category: "Fashion", img: "https://picsum.photos/seed/shoes/600/400", location: "Arima", created_at: "2025-10-04" },
      { id: 5, title: "Laptop Repair — Same Day", price: 300, category: "Services/Repairs", img: "https://picsum.photos/seed/repair/600/400", location: "Port of Spain", created_at: "2025-10-02" },
      { id: 6, title: "Sofa — Fabric, L-shape", price: 2800, category: "Furniture", img: "https://picsum.photos/seed/sofa/600/400", location: "San Juan", created_at: "2025-09-30" }
    ];

    const grid = document.getElementById('grid');
    const search = document.getElementById('search');
    const category = document.getElementById('category');
    const sort = document.getElementById('sort');
    const form = document.getElementById('filterForm');

    function render(items) {
      grid.innerHTML = items.map(item => `
        <article class="bg-white/5 border border-white/10 rounded-2xl overflow-hidden">
          <img src="${item.img}" alt="${item.title}" class="w-full h-44 object-cover">
          <div class="p-4">
            <h3 class="text-lg font-bold">${item.title}</h3>
            <p class="text-[var(--ink)]/85">Category: ${item.category}</p>
            <p class="mt-1 font-extrabold text-[var(--gold)]">TT$ ${item.price.toLocaleString()}</p>
            <p class="text-sm text-[var(--ink)]/70 mt-1">Location: ${item.location}</p>
            <div class="mt-4 flex gap-2">
              <a href="index.html#waitlist" class="px-3 py-2 bg-[var(--gold)] text-black rounded-lg font-semibold hover:opacity-90">Buy via Escrow</a>
              <a href="safe-trade-zones.html" class="px-3 py-2 bg-white/5 border border-white/10 rounded-lg hover:bg-white/10">Meet at Safe Zone</a>
            </div>
          </div>
        </article>
      `).join('');
    }

    function applyFilters(e) {
      if (e) e.preventDefault();
      let q = search.value.trim().toLowerCase();
      let cat = category.value;
      let s = sort.value;

      let out = listings.filter(x =>
        (!cat || x.category === cat) &&
        (!q || x.title.toLowerCase().includes(q))
      );

      if (s === 'price_asc') out.sort((a,b) => a.price - b.price);
      if (s === 'price_desc') out.sort((a,b) => b.price - a.price);
      if (s === 'recent') out.sort((a,b) => new Date(b.created_at) - new Date(a.created_at));

      render(out);
    }

    form.addEventListener('submit', applyFilters);
    render(listings); // initial
  </script>
</body>
</html>
